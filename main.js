(()=>{"use strict";let e=null;class t{static getSharedInstance(){return e||(e=new t),e}constructor(){this.projects=this.fetchProjects(),console.log("projects",this.projects)}get count(){return this.projects&&Object.keys(this.projects).length||0}get projectList(){const e=this.projects&&Object.keys(this.projects).map((e=>this.projects[e])).sort(((e,t)=>e.dueDate-t.dueDate));return console.log("sorted",e),e}fetchProjects(){try{return JSON.parse(localStorage.getItem("projectLibrary"))||{}}catch(e){return console.error("THAT did not work",e),{}}}addToLibrary(e){this.saveProject(e)}saveProject(e){this.projects[e.id]=e,this.store()}removeFromLibrary(e){this.projects.hasOwnProperty(e.id)&&(delete this.projects[e.id],this.store())}deleteAll(){this.projects={},this.store()}store(){const e=JSON.stringify(this.projects);localStorage.setItem("projectLibrary",e)}}let n,r,a={projectList:document.querySelector("#projectList"),projectListDom:document.getElementsByClassName("projectList"),projectListDiv:document.getElementsByClassName("projectListItem"),taskListDom:document.querySelector("#taskList"),taskTitleDiv:document.querySelector("#taskFrameTitle"),projectTitle:document.querySelector("#projectTitle"),projectSub:document.querySelector("#projectSubtitle"),projectDesc:document.getElementsByClassName("projectDescription"),projectEdit:document.getElementsByClassName("editProjectBtn")};class o{static generateNumericId(){return Math.floor(Math.random()*10**16)}static generateId(){const e=o.generateNumericId().toString(16);return e.substring(2,e.length)}static randomNumber(e,t){return Math.floor(Math.random()*Math.floor(t+1))||e}}class i{constructor(e,t,n,r,a,i,s){this.id=e||o.generateId(),this.name=t||"",this.dueDate=+new Date(n),this.priority=r||1,this.notes=a||"",this.tasks=i||{},this.createdAt=s||Date.now()}addTask(e){this.tasks[e.id]=e,t.getSharedInstance().saveProject(this)}getTask(e){return this.tasks[e]}get count(){return Object.keys(this.tasks).length||0}removeTask(e){const n=t.getSharedInstance();delete this.tasks[e.id],n.store()}get taskList(){return this.tasks&&Object.keys(this.tasks).map((e=>this.tasks[e])).sort(((e,t)=>e.dueDate-t.dueDate))}}class s{constructor(e,t,n,r,a,i,s,c){this.projectId=e,this.id=t||o.generateId(),this.name=n||"",this.notes=r||":",this.dueDate=a||null,this.priority=i||1,this.done=!!s,this.createdAt=c||Date.now()}updateDone(){this.done=!this.done}}const c=new Map;class u{static applyTaskListBtn(e){n=e;const t=document.querySelector(`#projectName${e.id}`);c.get(e.id)&&t.removeEventListener("click",c.get(e.id));const r=function(){le.loadTaskList(e)};c.set(e.id,r),t.addEventListener("click",r),console.log(c)}static formatDate(e){const t=e.getMonth()+1,n=e.getDate(),r=e.getFullYear(),a=e.getHours(),o=e.getMinutes(),i=e=>e<10?"0"+e:e;return`${r}-${i(t)}-${i(n)}T${i(a)}:${i(o)}`}static loadProject(e){n=e,document.querySelector("#overlay2").style.display="none";const t=document.querySelector("#newProjectData").elements,r=t[0],a=t[2],o=t[1];r.value=e.name;const i=document.querySelector("#radioProjectHigh"),s=document.querySelector("#radioProjectMed"),c=document.querySelector("#radioProjectLow");i.checked=3==e.priority,s.checked=2==e.priority,c.checked=1==e.priority,o.value=e.notes,a.value=u.formatDate(new Date(e.dueDate))}static newProjectBtn(){const e=document.querySelector("#newProject"),t=document.querySelector("#overlay");e.addEventListener("click",(()=>{t.style.display="flex",u.loadProject(new i)}))}static editProjectBtn(e){const t=document.querySelector(".editProjectBtn"),n=document.querySelector("#overlay");c.get(e.id+"editProjectBtn")&&t.removeEventListener("click",c.get(e.id+"editProjectBtn"));const r=function(){n.style.display="flex",u.loadProject(e)};c.set(e.id+"editProjectBtn",r),t.addEventListener("click",r)}static newProjectSubmit(){const e=document.querySelector("#newProjectData").elements;console.log(e.length);const r=document.querySelector("#overlay"),a=e[0].value,o=new Date(e[2].value).valueOf(),s=e[1].value,c=new i(n.id,`${a}`,+o,+(()=>{const e=document.querySelector("#radioProjectHigh"),t=document.querySelector("#radioProjectMed"),n=document.querySelector("#radioProjectLow");return e.checked?3:t.checked?2:n.checked?1:void 0})(),`${s}`,n.tasks);t.getSharedInstance().saveProject(c),r.style.display="none",le.loadProjectList(),le.loadTaskList(c),document.querySelector("#newProjectData").reset()}static newProjectForm(){document.querySelector("#newProjectSubmit").addEventListener("click",u.newProjectSubmit)}static exitNewProject(){document.querySelector("#newProjectExit").addEventListener("click",(()=>{document.querySelector("#overlay").style.display="none"}))}static removeProject(e){const n=t.getSharedInstance();document.querySelector(`#deleteBtn${e.id}`).addEventListener("click",(()=>{n.removeFromLibrary(e),le.loadProjectList(),le.loadTaskList()}))}static loadTask(e,t){n=e,r=t,document.querySelector("#overlay").style.display="none";const a=document.querySelector("#newTaskData").elements,o=a[0],i=a[1],s=a[2];o.value=t.name;const c=document.querySelector("#radioProjectHigh"),d=document.querySelector("#radioProjectMed"),l=document.querySelector("#radioProjectLow");c.checked=3==t.priority,d.checked=2==t.priority,l.checked=1==t.priority,i.value=t.notes,s.value=u.formatDate(new Date(t.dueDate))}static newTaskBtn(e,t){const n=document.querySelector(".newTaskBtn"),r=document.querySelector("#overlay2");c.get(t.id)&&projectButton.removeEventListener("click",c.get(t.id));const a=function(){r.style.display="flex",u.loadTask(e,t)};c.set(t.id,a),n.addEventListener("click",a)}static newTaskSubmit(){const e=document.querySelector("#newTaskData").elements,a=e[0].value,o=e[2].value,i=e[1].value,c=new s(n.id,r.id,`${a}`,`${i}`,`${o}`,+(()=>{const e=document.querySelector("#radioTaskHigh"),t=document.querySelector("#radioTaskMed"),n=document.querySelector("#radioTaskLow");return e.checked?3:t.checked?2:n.checked?1:void 0})(),!1);document.querySelector("#overlay2").style.display="none",n.addTask(c),t.getSharedInstance().saveProject(n),le.loadTaskList(n),document.querySelector("#newTaskData").reset()}static editTaskBtn(e,t){const n=document.querySelector(`#edit-project${e.id}-task${t.id}`),r=document.querySelector("#overlay2");c.get(t.id+"editTaskBtn")&&n.removeEventListener("click",c.get(t.id+"editTaskBtn"));const a=function(){r.style.display="flex",u.loadTask(e,t)};c.set(t.id+"editTaskBtn",a),n.addEventListener("click",a)}static newTaskForm(){document.querySelector("#newTaskSubmit").addEventListener("click",u.newTaskSubmit)}static exitNewTask(){document.querySelector("#newTaskExit").addEventListener("click",(()=>{document.querySelector("#overlay2").style.display="none"}))}static removeTask(e,t){const n=`#delete-project${e.id}-task${t.id}`;console.log(n),document.querySelector(n).addEventListener("click",(()=>{e.removeTask(t),le.loadTaskList(e)}))}static markDone(e,t){const n=document.querySelector(`#done-project${e.id}-task${t.id}`);n&&n.addEventListener("click",(()=>{t.updateDone(),le.loadProjectList(),le.loadTaskList(e)}))}}function d(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function l(e){d(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function h(e){d(1,arguments);var t=l(e);return!isNaN(t)}var m={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function f(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var g,y={date:f({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:f({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:f({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},w={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function p(e){return function(t,n){var r,a=n||{};if("formatting"===(a.context?String(a.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=a.width?String(a.width):o;r=e.formattingValues[i]||e.formattingValues[o]}else{var s=e.defaultWidth,c=a.width?String(a.width):e.defaultWidth;r=e.values[c]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function v(e){return function(t,n){var r=String(t),a=n||{},o=a.width,i=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=r.match(i);if(!s)return null;var c,u=s[0],d=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth];return c="[object Array]"===Object.prototype.toString.call(d)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].test(u))return n}(d):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n].test(u))return n}(d),c=e.valueCallback?e.valueCallback(c):c,{value:c=a.valueCallback?a.valueCallback(c):c,rest:r.slice(u.length)}}}const b={code:"en-US",formatDistance:function(e,t,n){var r;return n=n||{},r="string"==typeof m[e]?m[e]:1===t?m[e].one:m[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:y,formatRelative:function(e,t,n,r){return w[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:p({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:p({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:p({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:p({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:p({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(g={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),r=t||{},a=n.match(g.matchPattern);if(!a)return null;var o=a[0],i=n.match(g.parsePattern);if(!i)return null;var s=g.valueCallback?g.valueCallback(i[0]):i[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(o.length)}}),era:v({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:v({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:v({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:v({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:v({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function k(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function T(e,t){d(2,arguments);var n=l(e).getTime(),r=k(t);return new Date(n+r)}function j(e,t){d(2,arguments);var n=k(t);return T(e,-n)}function C(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const S=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return C("yy"===t?r%100:r,t.length)},D=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):C(n+1,2)},P=function(e,t){return C(e.getUTCDate(),t.length)},M=function(e,t){return C(e.getUTCHours()%12||12,t.length)},L=function(e,t){return C(e.getUTCHours(),t.length)},x=function(e,t){return C(e.getUTCMinutes(),t.length)},q=function(e,t){return C(e.getUTCSeconds(),t.length)},E=function(e,t){var n=t.length,r=e.getUTCMilliseconds();return C(Math.floor(r*Math.pow(10,n-3)),t.length)};var U=864e5;function N(e){d(1,arguments);var t=1,n=l(e),r=n.getUTCDay(),a=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function B(e){d(1,arguments);var t=l(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=N(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=N(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function O(e){d(1,arguments);var t=B(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=N(n);return r}var W=6048e5;function Y(e,t){d(1,arguments);var n=t||{},r=n.locale,a=r&&r.options&&r.options.weekStartsOn,o=null==a?0:k(a),i=null==n.weekStartsOn?o:k(n.weekStartsOn);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=l(e),c=s.getUTCDay(),u=(c<i?7:0)+c-i;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function $(e,t){d(1,arguments);var n=l(e,t),r=n.getUTCFullYear(),a=t||{},o=a.locale,i=o&&o.options&&o.options.firstWeekContainsDate,s=null==i?1:k(i),c=null==a.firstWeekContainsDate?s:k(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(r+1,0,c),u.setUTCHours(0,0,0,0);var h=Y(u,t),m=new Date(0);m.setUTCFullYear(r,0,c),m.setUTCHours(0,0,0,0);var f=Y(m,t);return n.getTime()>=h.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function H(e,t){d(1,arguments);var n=t||{},r=n.locale,a=r&&r.options&&r.options.firstWeekContainsDate,o=null==a?1:k(a),i=null==n.firstWeekContainsDate?o:k(n.firstWeekContainsDate),s=$(e,t),c=new Date(0);c.setUTCFullYear(s,0,i),c.setUTCHours(0,0,0,0);var u=Y(c,t);return u}var A=6048e5;function I(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),o=r%60;if(0===o)return n+String(a);var i=t||"";return n+String(a)+i+C(o,2)}function F(e,t){return e%60==0?(e>0?"-":"+")+C(Math.abs(e)/60,2):X(e,t)}function X(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e);return r+C(Math.floor(a/60),2)+n+C(a%60,2)}const z={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return S(e,t)},Y:function(e,t,n,r){var a=$(e,r),o=a>0?a:1-a;return"YY"===t?C(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):C(o,t.length)},R:function(e,t){return C(B(e),t.length)},u:function(e,t){return C(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return C(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return C(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return D(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return C(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=function(e,t){d(1,arguments);var n=l(e),r=Y(n,t).getTime()-H(n,t).getTime();return Math.round(r/A)+1}(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):C(a,t.length)},I:function(e,t,n){var r=function(e){d(1,arguments);var t=l(e),n=N(t).getTime()-O(t).getTime();return Math.round(n/W)+1}(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):C(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):P(e,t)},D:function(e,t,n){var r=function(e){d(1,arguments);var t=l(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=n-r;return Math.floor(a/U)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):C(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var a=e.getUTCDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return C(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var a=e.getUTCDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return C(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),a=0===r?7:r;switch(t){case"i":return String(a);case"ii":return C(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,a=e.getUTCHours();switch(r=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,a=e.getUTCHours();switch(r=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return M(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):L(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):C(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):C(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):x(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):q(e,t)},S:function(e,t){return E(e,t)},X:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return F(a);case"XXXX":case"XX":return X(a);case"XXXXX":case"XXX":default:return X(a,":")}},x:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return F(a);case"xxxx":case"xx":return X(a);case"xxxxx":case"xxx":default:return X(a,":")}},O:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+I(a,":");case"OOOO":default:return"GMT"+X(a,":")}},z:function(e,t,n,r){var a=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+I(a,":");case"zzzz":default:return"GMT"+X(a,":")}},t:function(e,t,n,r){var a=r._originalDate||e;return C(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,r){return C((r._originalDate||e).getTime(),t.length)}};function G(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function Q(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}const R={p:Q,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),a=r[1],o=r[2];if(!o)return G(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;case"PPPP":default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",G(a,t)).replace("{{time}}",Q(o,t))}};var J=6e4;function _(e){return e.getTime()%J}function V(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var r=n>0?(J+_(t))%J:_(t);return n*J+r}var K=["D","DD"],Z=["YY","YYYY"];function ee(e){return-1!==K.indexOf(e)}function te(e){return-1!==Z.indexOf(e)}function ne(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var re=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oe=/^'([^]*?)'?$/,ie=/''/g,se=/[a-zA-Z]/;function ce(e,t,n){d(2,arguments);var r=String(t),a=n||{},o=a.locale||b,i=o.options&&o.options.firstWeekContainsDate,s=null==i?1:k(i),c=null==a.firstWeekContainsDate?s:k(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=o.options&&o.options.weekStartsOn,m=null==u?0:k(u),f=null==a.weekStartsOn?m:k(a.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var g=l(e);if(!h(g))throw new RangeError("Invalid time value");var y=V(g),w=j(g,y),p={firstWeekContainsDate:c,weekStartsOn:f,locale:o,_originalDate:g},v=r.match(ae).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,R[t])(e,o.formatLong,p):e})).join("").match(re).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return ue(n);var i=z[r];if(i)return!a.useAdditionalWeekYearTokens&&te(n)&&ne(n,t,e),!a.useAdditionalDayOfYearTokens&&ee(n)&&ne(n,t,e),i(w,n,o.localize,p);if(r.match(se))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return v}function ue(e){return e.match(oe)[1].replace(ie,"'")}let de=!1;class le{static loadProjectList(){let e=0;a.projectList.innerHTML="",de||u.newProjectBtn(),t.getSharedInstance().projectList.forEach((function(t){const n=document.createElement("div");n.classList="projectListItem",n.setAttribute("id",`project${t.id}`),a.projectList.appendChild(n),t.taskList.forEach((function(t){t.done&&e++})),e==t.taskList.length&&(n.style.opacity="50%"),e=0;const r=document.createElement("div");r.classList="projectListName",r.setAttribute("id",`projectName${t.id}`),r.textContent=`${t.name}`,n.appendChild(r);const o=document.createElement("div");o.classList="projectDeleteBtn",o.setAttribute("id",`deleteBtn${t.id}`),o.textContent="X",n.appendChild(o),u.removeProject(t);const i=document.createElement("div");i.classList="projectListDueDate",i.textContent=`Due ${ce(new Date(t.dueDate),"MMM do, yyyy")}`,n.appendChild(i);const s=document.createElement("div");s.classList="projectListPriority",3==t.priority?s.style.backgroundColor="red":2==t.priority?s.style.backgroundColor="yellow":1==t.priority&&(s.style.backgroundColor="green"),n.appendChild(s),u.applyTaskListBtn(t)})),de=!0}static loadTaskList(e){if(console.log("load task list"),a.taskListDom.innerHTML="",a.projectTitle.innerHTML="",document.querySelector(".projectSubSub").innerHTML="",document.querySelector("#newTaskDiv").innerHTML="",null==e)return a.projectTitle.textContent="Open a project to view your tasks!";a.projectTitle.textContent=`${e.name}`;const t=document.createElement("div");t.classList="newTaskBtn",t.setAttribute("id",`${e.id}`),t.textContent="New Task +",document.querySelector("#newTaskDiv").appendChild(t);const n=document.querySelector(".projectSubSub"),r=document.createElement("div");r.classList="projectDescription",r.textContent=`${e.notes}`,n.appendChild(r);const o=document.createElement("div");o.classList="editProjectBtn",o.textContent="Edit Project",n.appendChild(o),console.log(e.tasks),e.taskList.forEach((function(t){const n=document.createElement("div");n.classList="taskListItem",n.setAttribute("id",`project${e.id}-task${t.id}`),a.taskListDom.appendChild(n);const r=document.createElement("div");r.classList="taskDoneBtn",r.setAttribute("id",`done-project${e.id}-task${t.id}`),n.appendChild(r),u.markDone(e,t);const o=document.createElement("div");o.classList="taskListName",o.textContent=`${t.name}`,n.appendChild(o);const i=document.createElement("div");i.classList="taskDeleteBtn",i.setAttribute("id",`delete-project${e.id}-task${t.id}`),i.textContent="X",n.appendChild(i),u.removeTask(e,t);const s=document.createElement("div");s.classList="taskListDue",s.textContent=`Due ${ce(new Date(t.dueDate),"MMM do, yyyy")}`,n.appendChild(s);const c=document.createElement("div");c.classList="taskPriority",c.setAttribute("id",`project${e.id}-task${t.id}-doneBtn`),3==t.priority?c.style.backgroundColor="red":2==t.priority?c.style.backgroundColor="yellow":1==t.priority&&(c.style.backgroundColor="green"),n.appendChild(c);const d=document.createElement("div");d.classList="editTaskBtn",d.setAttribute("id",`edit-project${e.id}-task${t.id}`),d.textContent="Edit Task",n.appendChild(d),u.editTaskBtn(e,t),1==t.done?(r.textContent="X",n.setAttribute("style","opacity: 60%"),o.style.textDecoration="line-through"):0==t.done&&(r.textContent="",n.setAttribute("style","background-color: none"))})),u.editProjectBtn(e),u.newTaskBtn(e,new s(e.id)),u.newTaskForm()}static removeAllChildNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}!function(){t.getSharedInstance().deleteAll();const e=new i(o.generateId(),"Take Over My House",new Date(2021,3,1),3,"Need to regain some dignity up in here.",[]),n=new s(e.id,o.generateId(),"Clean the floor","Getting dog hair off the floor will make everyone happy",new Date(2021,3,1),2,!1);e.addTask(n);const r=new s(e.id,o.generateId(),"Do the dishes","Hopefully they'll get inspired and do the same",new Date(2021,5,13),1,!1);e.addTask(r);const a=new s(e.id,o.generateId(),"Get in shape","Hopefully they'll get inspired and do the same",new Date(2021,10,15),3,!0);e.addTask(a);const c=new s(e.id,o.generateId(),"Get help","Hopefully they'll get inspired and do the same",new Date(2022,1,1),3,!1);e.addTask(c),t.getSharedInstance().addToLibrary(e),le.loadProjectList()}(),u.newProjectForm(),u.exitNewProject(),u.exitNewTask()})();